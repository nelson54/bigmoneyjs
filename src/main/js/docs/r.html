<!DOCTYPE html>  <html> <head>   <title>r.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="bigmoney.html">                 bigmoney.js               </a>                                           <a class="source" href="currencyunit.html">                 currencyunit.js               </a>                                           <a class="source" href="underscore.html">                 underscore.js               </a>                                           <a class="source" href="docco.html">                 docco.js               </a>                                           <a class="source" href="r.html">                 r.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               r.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Used by jslib/rhino/args.js</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Set up execution context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Define a console.log for easier logging. Don't
get fancy though.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Get the fs module via Node's require before it
gets replaced. Used in require/node.js</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>In Node 0.7+ existsSync is on fs.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Temporarily hide require and define to allow require.js to define
them.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>PS3 indicates loaded and complete, but need to wait for complete
specifically. Sequence is 'loading', 'loaded', execution,
then 'complete'. The UA check is unfortunate, but not sure how
to feature test w/o causing perf issues.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Oh the tragedy, detecting opera. See the usage of isOpera for reason.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Similar to Function.prototype.bind, but the 'this' object is specified
first, since it is easier to read/figure out what 'this' will be.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Allow getting a global that expressed in
dot notation, like 'a.b.c'.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>A version of a require function that passes a moduleName
value for items that may need to
look up paths relative to the moduleName</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>If no context, then use default context. Reference from
contexts instead of early binding to default context, so
that during builds, the latest instance of the default
context with its config gets used.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>If a define is already in play via another AMD loader,
do not overwrite.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Do not overwrite and existing requirejs instance.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Allow for a require config object</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>assume it is a config object.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Used to track the order in which modules
should be executed, by the order they
load. Important for consistent cycle resolution
behavior.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>End of the line. Keep at least one non-dot
path segment at the front so it can be mapped
correctly to disk. Otherwise, there is likely
no path mapping for a path starting with '..'.
This can still fail, but catches the most reasonable
uses of ..</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>Adjust any relative paths.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>If have a base name, try to normalize against it,
otherwise, assume it is a top-level require that will
be relative to baseUrl in the end.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>If the baseName is a package name, then just treat it as one
name to concat the name with.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>Convert baseName to array, and lop off the last part,
so that . matches that 'directory' and not name of the baseName's
module. For instance, baseName of 'one/two/three', maps to
'one/two/three.js', but we want the directory, 'one/two' for
this normalization.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Some use of packages may use a . path to reference the
'main' module name, so normalize for that.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>No baseName, so this is ID is resolved relative
to baseUrl, pull off the leading dot.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>Apply map config if available.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Find the longest baseName segment match in the config.
So, do joins on the biggest to smallest lengths of baseParts.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>baseName segment has  config, find if it has one for
this name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>Match, update name to the new value.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>Pop off the first array value, since it failed, and
retry</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>If no name, then it means it is a require call, generate an
internal name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>Account for relative paths if there is a base name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>Plugin is loaded, use its normalize method.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>A regular module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>If the id is a plugin id that cannot be determined if it needs
normalization, stamp it with a unique ID so two matching relative
ids that may conflict can be separate.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>Set error on module, so it skips timeout checks.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>Push all the globalDefQueue items into the context's defQueue</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>Array splice in the values since the context code has a
local var ref to defQueue, so cannot just reassign the one
on context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>Clean up machinery used for waiting modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>Do not bother with unitialized modules or not yet enabled
modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <p>Found the cycle.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <p>Trace through the dependencies.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <p>Dependency is not inited, so this cannot
be used to determine a cycle.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <p>mixin traced to a new object for each dependency, so that
sibling dependencies in this object to not generate a
false positive match on a cycle. Ideally an Object.create
type of prototype delegation would be used here, but
optimizing for file size vs. execution speed since hopefully
the trees are small for circular dependency scans relative
to the full app perf.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <p>Dependency is not inited,
so this module cannot be
given a forced value yet.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <p>Get the value for the current dependency</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <p>Even with forcing it may not be done,
in particular if the module is waiting
on a plugin resource.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <p>It is possible to disable the wait interval by using waitSeconds of 0.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <p>Do not bother if this call was a result of a cycle break.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <p>Figure out the state of all the modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <p>Skip things that are not enabled or in error state.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <p>If the module should be executed, and it has not
been inited and time is up, remember it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <p>No reason to keep looking for unfinished
loading. If the only stillLoading is a
plugin resource though, keep going,
because it may be that a plugin resource
is waiting on a non-plugin cycle.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <p>If wait time expired, throw error of unloaded modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <p>Not expired, check for a cycle.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <p>traced modules may have been
removed from the registry, but
their listeners still need to
be called.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <p>Now that dependencies have
been satisfied, trigger the
completion check that then
notifies listeners.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <p>If still waiting on loads, and the waiting load is something
other than a plugin resource, or there are still outstanding
scripts, then just try back later.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <p>Something is still waiting to load. Wait for it, but only
if a timeout is not already in effect.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <p>Do not do more inits if already done. Can happen if there
are multiple define calls for the same module. That is not
a normal, common case, but it is also not unexpected.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <p>Register for errors on this module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <p>If no errback already, but there are error listeners
on this module, set up an errback to pass to the deps.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <p>Do a copy of the dependency array, so that
source inputs are not modified. For example
"shim" deps are passed in here directly, and
doing a direct modification of the depMaps array
would affect that config.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-64">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-64">&#182;</a>               </div>               <p>Indicate this module has be initialized</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-65">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-65">&#182;</a>               </div>               <p>Could have option to init this module in enabled mode,
or could have been previously marked as enabled. However,
the dependencies are not known until init is called. So
if enabled previously, now trigger dependencies as enabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-66">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-66">&#182;</a>               </div>               <p>Enable this module and dependencies.
Will call this.check()</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-67">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-67">&#182;</a>               </div>               <p>Find the index for this dependency.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-68">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-68">&#182;</a>               </div>               <p>Because of cycles, defined callback for a given
export can be called more than once.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-69">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-69">&#182;</a>               </div>               <p>If the manager is for a plugin managed resource,
ask the plugin to load it now.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-70">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-70">&#182;</a>               </div>               <p>Regular dependency.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-71">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-71">&#182;</a>               </div>               <p>Regular dependency.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-72">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-72">&#182;</a>               </div>               <p>The factory could trigger another require call
that would result in checking this module to
define itself again. If already in the process
of doing that, skip this work.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-73">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-73">&#182;</a>               </div>               <p>If there is an error listener, favor passing
to that instead of throwing an error.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-74">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-74">&#182;</a>               </div>               <p>If setting exports via 'module' is in play,
favor that over return value and exports. After that,
favor a non-undefined return value over exports use.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-75">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-75">&#182;</a>               </div>               <p>Make sure it is not already the exports value</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-76">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-76">&#182;</a>               </div>               <p>exports already set the defined value.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-77">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-77">&#182;</a>               </div>               <p>Just a literal value</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-78">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-78">&#182;</a>               </div>               <p>Clean up</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-79">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-79">&#182;</a>               </div>               <p>Clear the wait array used for cycles.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-80">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-80">&#182;</a>               </div>               <p>Finished the define stage. Allow calling check again
to allow define notifications below in the case of a
cycle.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-81">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-81">&#182;</a>               </div>               <p>If current map is not normalized, wait for that
normalized name to load instead of continuing.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-82">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-82">&#182;</a>               </div>               <p>Normalize the ID if the plugin allows it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-83">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-83">&#182;</a>               </div>               <p>Remove temp unnormalized modules for this module,
since they will never be resolved otherwise now.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-84">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-84">&#182;</a>               </div>               <p>Allow plugins to load other code without having to know the
context or how to 'complete' the load.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-85">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-85">&#182;</a>               </div>               <p>Turn off interactive script matching for IE for any define
calls in the text, then turn it back on at the end.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-86">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-86">&#182;</a>               </div>               <p>Prime the system by creating a module instance for
it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-87">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-87">&#182;</a>               </div>               <p>Support anonymous modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-88">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-88">&#182;</a>               </div>               <p>Use parentName here since the plugin's name is not reliable,
could be some weird string with no path that actually wants to
reference the parentName's path.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-89">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-89">&#182;</a>               </div>               <p>Set flag mentioning that the module is enabling,
so that immediate calls to the defined callbacks
for dependencies do not trigger inadvertent load
with the depCount still being zero.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-90">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-90">&#182;</a>               </div>               <p>Enable each dependency</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-91">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-91">&#182;</a>               </div>               <p>Dependency needs to be converted to a depMap
and wired up to this module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-92">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-92">&#182;</a>               </div>               <p>Skip special modules like 'require', 'exports', 'module'
Also, don't call enable if it is already enabled,
important in circular dependency cases.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-93">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-93">&#182;</a>               </div>               <p>Enable each plugin that is used in
a dependency</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-94">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-94">&#182;</a>               </div>               <p>Now that the error handler was triggered, remove
the listeners, since this broken Module instance
can stay around for a while in the registry/waitAry.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-95">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-95">&#182;</a>               </div>               <p>Favor detachEvent because of IE9
issue, see attachEvent/addEventListener comment elsewhere
in this file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-96">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-96">&#182;</a>               </div>               <p>Probably IE. If not it will throw an error, which will be
useful to know.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-97">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-97">&#182;</a>               </div>               <p>Using currentTarget instead of target for Firefox 2.0's sake. Not
all old browsers will be supported, but this one was easy enough
to support and still makes sense.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-98">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-98">&#182;</a>               </div>               <p>Remove the listeners once here.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-99">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-99">&#182;</a>               </div>               <p>Make sure the baseUrl ends in a slash.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-100">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-100">&#182;</a>               </div>               <p>Save off the paths and packages since they require special processing,
they are additive.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-101">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-101">&#182;</a>               </div>               <p>Mix in the config values, favoring the new values over
existing ones in context.config.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-102">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-102">&#182;</a>               </div>               <p>Merge paths.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-103">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-103">&#182;</a>               </div>               <p>Merge map</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-104">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-104">&#182;</a>               </div>               <p>Merge shim</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-105">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-105">&#182;</a>               </div>               <p>Normalize the structure</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-106">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-106">&#182;</a>               </div>               <p>Adjust packages if necessary.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-107">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-107">&#182;</a>               </div>               <p>Create a brand new object on pkgs, since currentPackages can
be passed in again, and config.pkgs is the internal transformed
state for all package configs.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-108">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-108">&#182;</a>               </div>               <p>Remove leading dot in main, so main paths are normalized,
and remove any trailing .js, since different package
envs have different conventions: some use a module name,
some use a file name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-109">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-109">&#182;</a>               </div>               <p>Done with modifications, assing packages back to context config</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-110">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-110">&#182;</a>               </div>               <p>If there are any "waiting to execute" modules in the registry,
update the maps for them, since their info, like URLs to load,
may have changed.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-111">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-111">&#182;</a>               </div>               <p>If a deps array or a config callback is specified, then call
require with those args. This is useful when require is defined as a
config object before require.js is loaded.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-112">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-112">&#182;</a>               </div>               <p>Save the exports for use in nodefine checking.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-113">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-113">&#182;</a>               </div>               <p>Invalid call</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-114">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-114">&#182;</a>               </div>               <p>Synchronous access to one module. If require.get is
available (as in the Node adapter), prefer that.
In this case deps is the moduleName and callback is
the relMap</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-115">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-115">&#182;</a>               </div>               <p>Just return the module wanted. In this scenario, the
second arg (if passed) is just the relMap.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-116">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-116">&#182;</a>               </div>               <p>Normalize module name, if it contains . or ..</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-117">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-117">&#182;</a>               </div>               <p>Callback require. Normalize args. if callback or errback is
not a function, it means it is a relMap. Test errback first.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-118">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-118">&#182;</a>               </div>               <p>Any defined modules in the global queue, intake them now.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-119">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-119">&#182;</a>               </div>               <p>Make sure any remaining defQueue items get properly processed.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-120">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-120">&#182;</a>               </div>               <p>args are id, deps, factory. Should be normalized by the
define() function.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-121">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-121">&#182;</a>               </div>               <p>Mark all the dependencies as needing to be loaded.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-122">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-122">&#182;</a>               </div>               <p>Hold on to listeners in case the
module will be attempted to be reloaded
using a different config.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-123">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-123">&#182;</a>               </div>               <p>If already found an anonymous module and bound it
to this name, then this is some other anon module
waiting for its completeLoad to fire.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-124">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-124">&#182;</a>               </div>               <p>Found matching define call for this script!</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-125">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-125">&#182;</a>               </div>               <p>Do this after the cycle of callGetModule in case the result
of those calls/init calls changes the registry.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-126">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-126">&#182;</a>               </div>               <p>A script that does not call define(), so just simulate
the call for it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-127">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-127">&#182;</a>               </div>               <p>If a colon is in the URL, it indicates a protocol is used and it is just
an URL to a file, or if it starts with a slash, contains a query arg (i.e. ?)
or ends with .js, then assume the user meant to use an url and not a module id.
The slash is important for protocol-less URLs as well as full paths.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-128">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-128">&#182;</a>               </div>               <p>Just a plain path, not module name lookup, so just return it.
Add extension if it is included. This is a bit wonky, only non-.js things pass
an extension, this method probably needs to be reworked.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-129">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-129">&#182;</a>               </div>               <p>A module that needs to be converted to a path.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-130">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-130">&#182;</a>               </div>               <p>For each module name segment, see if there is a path
registered for it. Start with most specific name
and work up from it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-131">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-131">&#182;</a>               </div>               <p>If an array, it means there are a few choices,
Choose the one that is desired</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-132">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-132">&#182;</a>               </div>               <p>If module name is just the package name, then looking
for the main module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-133">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-133">&#182;</a>               </div>               <p>Join the path parts together, then figure out if baseUrl is needed.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-134">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-134">&#182;</a>               </div>               <p>Delegates to req.load. Broken out as a separate function to
allow overriding in the optimizer.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-135">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-135">&#182;</a>               </div>               <p>Using currentTarget instead of target for Firefox 2.0's sake. Not
all old browsers will be supported, but this one was easy enough
to support and still makes sense.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-136">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-136">&#182;</a>               </div>               <p>Reset interactive script so a script node is not held onto for
to long.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-137">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-137">&#182;</a>               </div>               <p>Pull out the name of the module and the context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-138">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-138">&#182;</a>               </div>               <p>Find the right context, use default</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-139">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-139">&#182;</a>               </div>               <p>Determine if have config object in the call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-140">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-140">&#182;</a>               </div>               <p>deps is a config object</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-141">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-141">&#182;</a>               </div>               <p>Adjust args if there are dependencies</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-142">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-142">&#182;</a>               </div>               <p>Used to filter out dependencies that are already paths.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-143">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-143">&#182;</a>               </div>               <p>Create default context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-144">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-144">&#182;</a>               </div>               <p>Exports some context-sensitive methods on global require, using
default context if no context specified.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-145">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-145">&#182;</a>               </div>               <p>If BASE tag is in play, using appendChild is a problem for IE6.
When that browser dies, this can be removed. Details in this jQuery bug:
http://dev.jquery.com/ticket/2709</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-146">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-146">&#182;</a>               </div>               <p>In the browser so use a script tag</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-147">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-147">&#182;</a>               </div>               <p>Set up load listener. Test attachEvent first because IE9 has
a subtle issue in its addEventListener and script onload firings
that do not match the behavior of all other browsers with
addEventListener support, which fire the onload event for a
script right after the script execution. See:
https://connect.microsoft.com/IE/feedback/details/648057/script-onload-event-is-not-fired-immediately-after-script-execution
UNFORTUNATELY Opera implements attachEvent but does not follow the script
script execution mode.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-148">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-148">&#182;</a>               </div>               <p>Check if node.attachEvent is artificially added by custom script or
natively supported by browser
read https://github.com/jrburke/requirejs/issues/187
if we can NOT find [native code] then it must NOT natively supported.
in IE8, node.attachEvent does not have toString()
Note the test for "[native code" with no closing brace, see:
https://github.com/jrburke/requirejs/issues/273</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-149">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-149">&#182;</a>               </div>               <p>Probably IE. IE (at least 6-8) do not fire
script onload right after executing the script, so
we cannot tie the anonymous define call to a name.
However, IE reports the script as being in 'interactive'
readyState at the time of the define call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-150">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-150">&#182;</a>               </div>               <p>It would be great to add an error handler here to catch
404s in IE9+. However, onreadystatechange will fire before
the error handler, so that does not help. If addEvenListener
is used, then IE will fire error before load, but we cannot
use that pathway given the connect.microsoft.com issue
mentioned above about not doing the 'script execute,
then fire the script load event listener before execute
next script' that other browsers do.
Best hope: IE10 fixes the issues,
and then destroys all installs of IE 6-9.
node.attachEvent('onerror', context.onScriptError);</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-151">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-151">&#182;</a>               </div>               <p>For some cache cases in IE 6-8, the script executes before the end
of the appendChild execution, so to tie an anonymous define
call to the module name (which is stored on the node), hold on
to a reference to this node, but clear after the DOM insertion.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-152">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-152">&#182;</a>               </div>               <p>In a web worker, use importScripts. This is not a very
efficient use of importScripts, importScripts will block until
its script is downloaded and evaluated. However, if web workers
are in play, the expectation that a build has been done so that
only one script needs to be loaded anyway. This may need to be
reevaluated if other use cases become common.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-153">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-153">&#182;</a>               </div>               <p>Account for anonymous modules</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-154">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-154">&#182;</a>               </div>               <p>Look for a data-main script attribute, which could also adjust the baseUrl.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-155">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-155">&#182;</a>               </div>               <p>Figure out baseUrl. Get it from the script tag with require.js in it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-156">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-156">&#182;</a>               </div>               <p>Set the 'head' where we can append children by
using the script's parent.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-157">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-157">&#182;</a>               </div>               <p>Look for a data-main attribute to set main script for the page
to load. If it is there, the path to data main becomes the
baseUrl, if it is not already set.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-158">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-158">&#182;</a>               </div>               <p>Set final baseUrl if there is not already an explicit one.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-159">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-159">&#182;</a>               </div>               <p>Pull off the directory of data-main for use as the
baseUrl.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-160">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-160">&#182;</a>               </div>               <p>Strip off any trailing .js since dataMain is now
like a module name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-161">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-161">&#182;</a>               </div>               <p>Put the data-main script in the files to load.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-162">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-162">&#182;</a>               </div>               <p>Allow for anonymous functions</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-163">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-163">&#182;</a>               </div>               <p>Adjust args appropriately</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-164">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-164">&#182;</a>               </div>               <p>This module may not have dependencies</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-165">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-165">&#182;</a>               </div>               <p>If no name, and callback is a function, then figure out if it a
CommonJS thing with dependencies.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-166">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-166">&#182;</a>               </div>               <p>Remove comments from the callback string,
look for require calls, and pull them into the dependencies,
but only if there are function args.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-167">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-167">&#182;</a>               </div>               <p>May be a CommonJS thing even without require calls, but still
could use exports, and module. Avoid doing exports and module
work though if it just needs require.
REQUIRES the function to expect the CommonJS variables in the
order listed below.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-168">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-168">&#182;</a>               </div>               <p>If in IE 6-8 and hit an anonymous define() call, do the interactive
work.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-169">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-169">&#182;</a>               </div>               <p>Always save off evaluating the def call until the script onload handler.
This allows multiple modules to be in a file without prematurely
tracing dependencies, and allows for anonymous module support,
where the module name is not known until the script onload event
occurs. If no context, use the global queue, and get it processed
in the onscript load callback.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-170">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-170">&#182;</a>               </div>               <p>Set up with config info.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-171">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-171">&#182;</a>               </div>               <p>Support anonymous modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-172">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-172">&#182;</a>               </div>               <p>In Node 0.7+ existsSync is on fs.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-173">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-173">&#182;</a>               </div>               <p>Supply an implementation that allows synchronous get of a module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-174">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-174">&#182;</a>               </div>               <p>Normalize module name, if it contains . or ..</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-175">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-175">&#182;</a>               </div>               <p>Try to dynamically fetch it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-176">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-176">&#182;</a>               </div>               <p>The above call is sync, so can do the next thing safely.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-177">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-177">&#182;</a>               </div>               <p>Add wrapper around the code so that it gets the requirejs
API instead of the Node API, and it is done lexically so
that it survives later execution.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-178">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-178">&#182;</a>               </div>               <p>Support anonymous modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-179">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-179">&#182;</a>               </div>               <p>Override to provide the function wrapper for define/require.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-180">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-180">&#182;</a>               </div>               <p>Support a default file name to execute. Useful for hosted envs
like Joyent where it defaults to a server.js as the only executed
script. But only do it if this is not an optimization run.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-181">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-181">&#182;</a>               </div>               <p>Allow override in the config.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-182">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-182">&#182;</a>               </div>               <p>Needed so that rhino/assert can return a stub for uglify's consolidator.js</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-183">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-183">&#182;</a>               </div>               <p>Just a stub for use with uglify's consolidator.js</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-184">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-184">&#182;</a>               </div>               <p>Do not return the "node" or "r.js" arguments</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-185">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-185">&#182;</a>               </div>               <p>Ignore any command option used for rq.js</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-186">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-186">&#182;</a>               </div>               <p>Ignore any command option used for rq.js</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-187">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-187">&#182;</a>               </div>               <p>First part may be empty string if path starts with a slash.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-188">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-188">&#182;</a>               </div>               <p>summary: Recurses startDir and finds matches to the files that match regExpFilters.include
and do not match regExpFilters.exclude. Or just one regexp can be passed in for regExpFilters,
and it will be treated as the "include" case.
Ignores files/directories that start with a period (.) unless exclusionRegExp
is set to another value.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-189">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-189">&#182;</a>               </div>               <p>Make sure we have a JS string.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-190">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-190">&#182;</a>               </div>               <p>summary: copies files from srcDir to destDir using the regExpFilter to determine if the
file should be copied. Returns a list file name strings of the destinations that were copied.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-191">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-191">&#182;</a>               </div>               <p>Normalize th directory names, but keep front slashes.
path module on windows now returns backslashed paths.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-192">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-192">&#182;</a>               </div>               <p>summary: copies srcFileName to destFileName. If onlyCopyNew is set, it only copies the file if
srcFileName is newer than destFileName. Returns a boolean indicating if the copy occurred.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-193">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-193">&#182;</a>               </div>               <p>logger.trace("Src filename: " + srcFileName);
logger.trace("Dest filename: " + destFileName);</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-194">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-194">&#182;</a>               </div>               <p>If onlyCopyNew is true, then compare dates and only copy if the src is newer
than dest.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-195">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-195">&#182;</a>               </div>               <p>Make sure destination dir exists.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-196">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-196">&#182;</a>               </div>               <p>Hmm, would not expect to get A BOM, but it seems to happen,
remove it just in case.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-197">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-197">&#182;</a>               </div>               <p>summary: saves a <em>text</em> file using UTF-8 encoding.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-198">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-198">&#182;</a>               </div>               <p>summary: saves a <em>text</em> file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-199">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-199">&#182;</a>               </div>               <p>Make sure destination directories exist.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-200">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-200">&#182;</a>               </div>               <p>summary: deletes a file or directory if it exists.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-201">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-201">&#182;</a>               </div>               <p>Helper functions to deal with file I/O.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-202">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-202">&#182;</a>               </div>               <p>summary: Recurses startDir and finds matches to the files that match regExpFilters.include
and do not match regExpFilters.exclude. Or just one regexp can be passed in for regExpFilters,
and it will be treated as the "include" case.
Ignores files/directories that start with a period (.) unless exclusionRegExp
is set to another value.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-203">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-203">&#182;</a>               </div>               <p>Make sure we have a JS string.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-204">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-204">&#182;</a>               </div>               <p>summary: copies files from srcDir to destDir using the regExpFilter to determine if the
file should be copied. Returns a list file name strings of the destinations that were copied.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-205">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-205">&#182;</a>               </div>               <p>summary: copies srcFileName to destFileName. If onlyCopyNew is set, it only copies the file if
srcFileName is newer than destFileName. Returns a boolean indicating if the copy occurred.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-206">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-206">&#182;</a>               </div>               <p>logger.trace("Src filename: " + srcFileName);
logger.trace("Dest filename: " + destFileName);</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-207">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-207">&#182;</a>               </div>               <p>If onlyCopyNew is true, then compare dates and only copy if the src is newer
than dest.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-208">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-208">&#182;</a>               </div>               <p>Make sure destination dir exists.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-209">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-209">&#182;</a>               </div>               <p>Java's version of copy file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-210">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-210">&#182;</a>               </div>               <p>A file read function that can deal with BOMs</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-211">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-211">&#182;</a>               </div>               <p>Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324
http://www.unicode.org/faq/utf_bom.html</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-212">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-212">&#182;</a>               </div>               <p>Note that when we use utf-8, the BOM should appear as "EF BB BF", but it doesn't due to this bug in the JDK:
http://bugs.sun.com/bugdatabase/view<em>bug.do?bug</em>id=4508058</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-213">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-213">&#182;</a>               </div>               <p>Eat the BOM, since we've already found the encoding on this file,
and we plan to concatenating this buffer with others; the BOM should
only appear at the top of a file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-214">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-214">&#182;</a>               </div>               <p>Make sure we return a JavaScript string and not a Java string.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-215">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-215">&#182;</a>               </div>               <p>summary: saves a file using UTF-8 encoding.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-216">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-216">&#182;</a>               </div>               <p>summary: saves a file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-217">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-217">&#182;</a>               </div>               <p>summary: deletes a file or directory if it exists.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-218">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-218">&#182;</a>               </div>               <p>boodman/crockford delegation w/ cornford optimization</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-219">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-219">&#182;</a>               </div>               <p>Similar to Function.prototype.bind, but the "this" object is specified
first, since it is easier to read/figure out what "this" will be.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-220">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-220">&#182;</a>               </div>               <p>Escapes a content string to be be a string that has characters escaped
for inclusion as part of a JS string.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-221">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-221">&#182;</a>               </div>               <p>Just a blank file to use when building the optimizer with the optimizer,
so that the build does not attempt to inline some env modules,
like Node's fs and path.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-222">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-222">&#182;</a>               </div>               <p>Just a blank file to use when building the optimizer with the optimizer,
so that the build does not attempt to inline some env modules,
like Node's fs and path.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-223">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-223">&#182;</a>               </div>               <p>Commit d72ed0a000c455290fde6f8114fe38f4aaf31469 on May 15, 2012</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-224">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-224">&#182;</a>               </div>               <p>Error messages should be identical to V8.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-225">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-225">&#182;</a>               </div>               <p>See also tools/generate-unicode-regex.py.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-226">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-226">&#182;</a>               </div>               <p>Ensure the condition is true, otherwise throw an error.
This is only to have a better contract semantic, i.e. another safety net
to catch a logic error. The condition shall be fulfilled in normal case.
Do NOT use this to enforce a certain condition on any user input.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-227">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-227">&#182;</a>               </div>               <p>7.2 White Space</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-228">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-228">&#182;</a>               </div>               <p>7.3 Line Terminators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-229">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-229">&#182;</a>               </div>               <p>7.6 Identifier Names and Identifiers</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-230">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-230">&#182;</a>               </div>               <p>7.6.1.2 Future Reserved Words</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-231">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-231">&#182;</a>               </div>               <p>Future reserved words.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-232">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-232">&#182;</a>               </div>               <p>Strict Mode reserved words.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-233">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-233">&#182;</a>               </div>               <p>7.6.1.1 Keywords</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-234">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-234">&#182;</a>               </div>               <p>Future reserved words.
'const' is specialized as Keyword in V8.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-235">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-235">&#182;</a>               </div>               <p>For compatiblity to SpiderMonkey and ES.next</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-236">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-236">&#182;</a>               </div>               <p>Return the next character and move forward.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-237">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-237">&#182;</a>               </div>               <p>7.4 Comments</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-238">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-238">&#182;</a>               </div>               <p>There is no keyword or literal with only one character.
Thus, it must be an identifier.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-239">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-239">&#182;</a>               </div>               <p>7.8.1 Null Literals</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-240">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-240">&#182;</a>               </div>               <p>7.8.2 Boolean Literals</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-241">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-241">&#182;</a>               </div>               <p>7.7 Punctuators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-242">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-242">&#182;</a>               </div>               <p>Check for most common single-character punctuators.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-243">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-243">&#182;</a>               </div>               <p>Dot (.) can also start a floating-point number, hence the need
to check the next character.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-244">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-244">&#182;</a>               </div>               <p>Peek more characters.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-245">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-245">&#182;</a>               </div>               <p>4-character punctuator: >>>=</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-246">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-246">&#182;</a>               </div>               <p>3-character punctuators: === !== >>> &lt;&lt;= >>=</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-247">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-247">&#182;</a>               </div>               <p>2-character punctuators: &lt;= >= == != ++ -- &lt;&lt; >> &amp;&amp; ||
+= -= *= %= &amp;= |= ^= /=</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-248">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-248">&#182;</a>               </div>               <p>The remaining 1-character punctuators.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-249">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-249">&#182;</a>               </div>               <p>7.8.3 Numeric Literals</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-250">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-250">&#182;</a>               </div>               <p>Hex number starts with '0x'.
Octal number starts with '0'.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-251">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-251">&#182;</a>               </div>               <p>only 0x</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-252">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-252">&#182;</a>               </div>               <p>decimal number starts with '0' such as '09' is illegal.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-253">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-253">&#182;</a>               </div>               <p>7.8.4 String Literals</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-254">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-254">&#182;</a>               </div>               <p>\0 is not octal escape sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-255">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-255">&#182;</a>               </div>               <p>3 digits are only allowed when string starts
with 0, 1, 2, 3</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-256">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-256">&#182;</a>               </div>               <p>ECMA-262 7.8.5</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-257">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-257">&#182;</a>               </div>               <p>Exclude leading and trailing slash.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-258">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-258">&#182;</a>               </div>               <p>Return true if there is a line terminator before the next token.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-259">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-259">&#182;</a>               </div>               <p>Throw an exception</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-260">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-260">&#182;</a>               </div>               <p>Throw an exception because of the token.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-261">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-261">&#182;</a>               </div>               <p>BooleanLiteral, NullLiteral, or Punctuator.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-262">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-262">&#182;</a>               </div>               <p>Expect the next token to match the specified punctuator.
If not, an exception will be thrown.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-263">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-263">&#182;</a>               </div>               <p>Expect the next token to match the specified keyword.
If not, an exception will be thrown.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-264">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-264">&#182;</a>               </div>               <p>Return true if the next token matches the specified punctuator.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-265">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-265">&#182;</a>               </div>               <p>Return true if the next token matches the specified keyword</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-266">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-266">&#182;</a>               </div>               <p>Return true if the next token is an assignment operator</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-267">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-267">&#182;</a>               </div>               <p>Catch the very common case first.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-268">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-268">&#182;</a>               </div>               <p>Return true if provided expression is LeftHandSideExpression</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-269">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-269">&#182;</a>               </div>               <p>11.1.4 Array Initialiser</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-270">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-270">&#182;</a>               </div>               <p>11.1.5 Object Initialiser</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-271">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-271">&#182;</a>               </div>               <p>Note: This function is called only from parseObjectProperty(), where
EOF and Punctuator tokens are already filtered out.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-272">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-272">&#182;</a>               </div>               <p>Property Assignment: Getter and Setter.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-273">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-273">&#182;</a>               </div>               <p>11.1 Primary Expressions</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-274">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-274">&#182;</a>               </div>               <p>11.2 Left-Hand-Side Expressions</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-275">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-275">&#182;</a>               </div>               <p>11.3 Postfix Expressions</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-276">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-276">&#182;</a>               </div>               <p>11.3.1, 11.3.2</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-277">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-277">&#182;</a>               </div>               <p>11.4 Unary Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-278">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-278">&#182;</a>               </div>               <p>11.4.4, 11.4.5</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-279">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-279">&#182;</a>               </div>               <p>11.5 Multiplicative Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-280">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-280">&#182;</a>               </div>               <p>11.6 Additive Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-281">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-281">&#182;</a>               </div>               <p>11.7 Bitwise Shift Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-282">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-282">&#182;</a>               </div>               <p>11.8 Relational Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-283">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-283">&#182;</a>               </div>               <p>11.9 Equality Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-284">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-284">&#182;</a>               </div>               <p>11.10 Binary Bitwise Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-285">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-285">&#182;</a>               </div>               <p>11.11 Binary Logical Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-286">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-286">&#182;</a>               </div>               <p>11.12 Conditional Operator</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-287">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-287">&#182;</a>               </div>               <p>11.13 Assignment Operators</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-288">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-288">&#182;</a>               </div>               <p>LeftHandSideExpression</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-289">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-289">&#182;</a>               </div>               <p>11.13.1</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-290">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-290">&#182;</a>               </div>               <p>11.14 Comma Operator</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-291">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-291">&#182;</a>               </div>               <p>12.1 Block</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-292">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-292">&#182;</a>               </div>               <p>12.2 Variable Statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-293">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-293">&#182;</a>               </div>               <p>12.2.1</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-294">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-294">&#182;</a>               </div>               <p>kind may be <code>const</code> or <code>let</code>
Both are experimental and not in the specification yet.
see http://wiki.ecmascript.org/doku.php?id=harmony:const
and http://wiki.ecmascript.org/doku.php?id=harmony:let</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-295">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-295">&#182;</a>               </div>               <p>12.3 Empty Statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-296">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-296">&#182;</a>               </div>               <p>12.4 Expression Statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-297">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-297">&#182;</a>               </div>               <p>12.5 If statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-298">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-298">&#182;</a>               </div>               <p>12.6 Iteration Statements</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-299">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-299">&#182;</a>               </div>               <p>LeftHandSideExpression</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-300">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-300">&#182;</a>               </div>               <p>12.7 The continue statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-301">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-301">&#182;</a>               </div>               <p>Optimize the most common form: 'continue;'.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-302">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-302">&#182;</a>               </div>               <p>12.8 The break statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-303">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-303">&#182;</a>               </div>               <p>Optimize the most common form: 'break;'.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-304">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-304">&#182;</a>               </div>               <p>12.9 The return statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-305">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-305">&#182;</a>               </div>               <p>'return' followed by a space and an identifier is very common.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-306">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-306">&#182;</a>               </div>               <p>12.10 The with statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-307">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-307">&#182;</a>               </div>               <p>12.10 The swith statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-308">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-308">&#182;</a>               </div>               <p>12.13 The throw statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-309">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-309">&#182;</a>               </div>               <p>12.14 The try statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-310">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-310">&#182;</a>               </div>               <p>12.14.1</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-311">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-311">&#182;</a>               </div>               <p>12.15 The debugger statement</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-312">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-312">&#182;</a>               </div>               <p>12 Statements</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-313">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-313">&#182;</a>               </div>               <p>12.12 Labelled Statements</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-314">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-314">&#182;</a>               </div>               <p>13 Function Definition</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-315">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-315">&#182;</a>               </div>               <p>this is not directive</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-316">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-316">&#182;</a>               </div>               <p>14 Program</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-317">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-317">&#182;</a>               </div>               <p>this is not directive</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-318">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-318">&#182;</a>               </div>               <p>The following functions are needed only when the option to preserve
the comments is active.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-319">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-319">&#182;</a>               </div>               <p>Because the way the actual token is scanned, often the comments
(if any) are skipped twice during the lexical analysis.
Thus, we need to skip adding a comment if the comment array already
handled it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-320">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-320">&#182;</a>               </div>               <p>Pop the previous token, which is likely '/' or '/='</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-321">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-321">&#182;</a>               </div>               <p>Try first to convert to a string. This is good as fast path
for old IE which understands string indexing for string
literals only and not for string object.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-322">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-322">&#182;</a>               </div>               <p>Force accessing the characters via an array.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-323">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-323">&#182;</a>               </div>               <p>Sync with package.json.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-324">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-324">&#182;</a>               </div>               <p>Deep copy.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-325">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-325">&#182;</a>               </div>               <p>TODO(user) Consolidation of mathematical values found in numeric literals.
TODO(user) Unconsolidation.
TODO(user) Consolidation of ECMA-262 6th Edition programs.
TODO(user) Rewrite in ECMA-262 6th Edition.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-326">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-326">&#182;</a>               </div>               <p>foo:null, or foo:null;</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-327">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-327">&#182;</a>               </div>               <p>null vs foo</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-328">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-328">&#182;</a>               </div>               <p>foo:'fromCharCode';</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-329">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-329">&#182;</a>               </div>               <p>.fromCharCode vs [foo]</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-330">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-330">&#182;</a>               </div>               <p>'fromCharCode' vs foo</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-331">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-331">&#182;</a>               </div>               <p>If the range is a closure, reuse the closure.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-332">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-332">&#182;</a>               </div>               <p>Create a list of all derived primitive values within the range.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-333">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-333">&#182;</a>               </div>               <p>Add the number of occurrences to the total count.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-334">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-334">&#182;</a>               </div>               <p>Add identifiers of this or any nested scope to the list.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-335">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-335">&#182;</a>               </div>               <p>Distribute identifier names among derived primitive values.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-336">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-336">&#182;</a>               </div>               <p>Sort primitive values descending by their worthwhileness.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-337">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-337">&#182;</a>               </div>               <p>Take the necessity of adding a variable statement into account.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-338">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-338">&#182;</a>               </div>               <p>Take the necessity of forming a closure into account.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-339">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-339">&#182;</a>               </div>               <p>Create variable declarations suitable for UglifyJS.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-340">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-340">&#182;</a>               </div>               <p>Rewrite expressions that contain worthwhile primitive values.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-341">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-341">&#182;</a>               </div>               <p>Add a closure.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-342">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-342">&#182;</a>               </div>               <p>Copy source elements into the closure.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-343">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-343">&#182;</a>               </div>               <p>Remove source elements outside the closure.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-344">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-344">&#182;</a>               </div>               <p>Restore the availability of identifier names.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-345">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-345">&#182;</a>               </div>               <p>Skip a Directive Prologue.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-346">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-346">&#182;</a>               </div>               <p>Classify a source element.
Find its derived primitive values and count their occurrences.
Find all identifiers used (including nested scopes).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-347">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-347">&#182;</a>               </div>               <p>Establish whether the scope is still wholly examinable.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-348">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-348">&#182;</a>               </div>               <p>Examine the range if it immediately follows a Directive Prologue.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-349">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-349">&#182;</a>               </div>               <p>Examine the range that immediately follows this source element.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-350">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-350">&#182;</a>               </div>               <p>Examine nested functions.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-351">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-351">&#182;</a>               </div>               <p>make note of any newlines in the comments that came before</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-352">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-352">&#182;</a>               </div>               <p>read OctalEscapeSequence (XXX: deprecated if "strict mode")
https://github.com/mishoo/UglifyJS/issues/178</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-353">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-353">&#182;</a>               </div>               <p>https://github.com/mishoo/UglifyJS/issues/#issue/100</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-354">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-354">&#182;</a>               </div>               <p>arguments</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-355">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-355">&#182;</a>               </div>               <p>body</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-356">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-356">&#182;</a>               </div>               <p>allow trailing comma</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-357">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-357">&#182;</a>               </div>               <p>foo.toString()  ==>  foo+""</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-358">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-358">&#182;</a>               </div>               <p>we must be careful that the new mangled name:</p>

<ol>
<li><p>doesn't shadow a mangled name from a parent
scope, unless we don't reference the original
name from this scope OR from any sub-scopes!
This will get slow.</p></li>
<li><p>doesn't shadow an original name from a parent
scope, in the event that the name is not mangled
in the parent scope and we reference that name
here OR IN ANY SUBSCOPES!</p></li>
<li><p>doesn't shadow a name that is referenced but not
defined (possibly global defined elsewhere).</p></li>
</ol>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-359">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-359">&#182;</a>               </div>               <p>case 1.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-360">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-360">&#182;</a>               </div>               <p>case 2.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-361">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-361">&#182;</a>               </div>               <p>case 3.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-362">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-362">&#182;</a>               </div>               <p>I got "do" once. :-/</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-363">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-363">&#182;</a>               </div>               <p>process AST</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-364">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-364">&#182;</a>               </div>               <p>the reason why we need an additional pass here is
that names can be used prior to their definition.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-365">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-365">&#182;</a>               </div>               <p>scopes where eval was detected and their parents
are marked with uses_eval, unless they define the
"eval" name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-366">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-366">&#182;</a>               </div>               <p>for referenced names it might be useful to know
their origin scope.  current_scope here is the
toplevel one.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-367">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-367">&#182;</a>               </div>               <p>do children first; order shouldn't matter</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-368">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-368">&#182;</a>               </div>               <p>find origin scope and propagate the reference to origin</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-369">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-369">&#182;</a>               </div>               <p>we always lookup a defined symbol for the current scope FIRST, so declared
vars trump a DEFINE symbol, but if no such var is found, then match a DEFINE value</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-370">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-370">&#182;</a>               </div>               <p>move function declarations to the top when
they are not in some block.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-371">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-371">&#182;</a>               </div>               <p>this can only evaluate constant expressions.  If it finds anything
not constant, it throws $NOT_CONSTANT.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-372">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-372">&#182;</a>               </div>               <p>the whole expression is not constant but the lval may be...</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-373">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-373">&#182;</a>               </div>               <p>IGNORE... lval is not constant</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-374">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-374">&#182;</a>               </div>               <p>In this first pass, we rewrite ifs which abort with no else with an
if-else.  For example:</p>

<p>if (x) {
    blah();
    return y;
}
foobar();</p>

<p>is rewritten into:</p>

<p>if (x) {
    blah();
    return y;
} else {
    foobar();
}</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-375">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-375">&#182;</a>               </div>               <p>looking for assignments to any of these variables.
we can save considerable space by moving the definitions
in the var declaration.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-376">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-376">&#182;</a>               </div>               <p>insert the definition into the var declaration</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-377">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-377">&#182;</a>               </div>               <p>remove this assignment from the AST.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-378">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-378">&#182;</a>               </div>               <p>shortcut the conditional if the expression has a constant value</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-379">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-379">&#182;</a>               </div>               <p>this function does a few things:
1. discard useless blocks
2. join consecutive var declarations
3. remove obviously dead code
4. transform consecutive statements using the comma operator
5. if block_type == "lambda" and it detects constructs like if(foo) return ... - rewrite like if (!foo) { ... }</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-380">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-380">&#182;</a>               </div>               <p>this increases jQuery by 1K.  Probably not such a good idea after all..
part of this is done in prepare<em>ifs anyway.
if (block</em>type == "lambda") statements = (function(i, a, stat){
        while (i &lt; statements.length) {
                stat = statements[i++];
                if (stat[0] == "if" &amp;&amp; !stat[3]) {
                        if (stat[2][0] == "return" &amp;&amp; stat[2][1] == null) {
                                a.push(make<em>if(negate(stat[1]), [ "block", statements.slice(i) ]));
                                break;
                        }
                        var last = last</em>stat(stat[2]);
                        if (last[0] == "return" &amp;&amp; last[1] == null) {
                                a.push(make_if(stat[1], [ "block", stat[2][1].slice(0, -1) ], [ "block", statements.slice(i) ]));
                                break;
                        }
                }
                a.push(stat);
        }
        return a;
})(0, []);</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-381">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-381">&#182;</a>               </div>               <p>if we have both else and then, maybe it makes sense to switch them?</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-382">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-382">&#182;</a>               </div>               <p>dot/call on a literal function requires the
function literal itself to be parenthesized
only if it's the first "thing" in a
statement.  This means that the parent is
"stat", but it could also be a "seq" and
we're the first in this "seq" and the
parent is "stat", and so on.  Messy stuff,
but it worths the trouble.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-383">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-383">&#182;</a>               </div>               <p>we need block brackets in this case</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-384">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-384">&#182;</a>               </div>               <p>the first line is already indented</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-385">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-385">&#182;</a>               </div>               <p>XXX: I'm pretty sure other cases will bite here.
     we need to be smarter.
     adding parens all the time is the safest bet.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-386">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-386">&#182;</a>               </div>               <p>getter/setter.  The name is in p[0], the arg.list in p[1][2], the
body in p[1][3] and type ("get" / "set") in p[2].</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-387">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-387">&#182;</a>               </div>               <p>The squeezer replaces "block"-s that contain only a single
statement with the statement itself; technically, the AST
is correct, but this can create problems when we output an
IF having an ELSE clause where the THEN clause ends in an
IF <em>without</em> an ELSE block (then the outer ELSE would refer
to the inner IF).  This function checks for this case and
adds the block brackets if needed.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-388">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-388">&#182;</a>               </div>               <p>https://github.com/mishoo/UglifyJS/issues/#issue/57
IE croaks with "syntax error" on code like this:
    if (foo) do ... while(cond); else ...
we need block brackets around do/while</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-389">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-389">&#182;</a>               </div>               <p>no else, we must add the block</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-390">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-390">&#182;</a>               </div>               <p>some utilities</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-391">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-391">&#182;</a>               </div>               <p>keep this last!</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-392">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-392">&#182;</a>               </div>               <p>convienence function(src, [options]);</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-393">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-393">&#182;</a>               </div>               <p>Dependencies can be an object literal or an array.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-394">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-394">&#182;</a>               </div>               <p>Dependencies can be an object literal or an array.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-395">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-395">&#182;</a>               </div>               <p>Set up source input</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-396">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-396">&#182;</a>               </div>               <p>If name is an array, it means it is an anonymous module,
so adjust args appropriately. An anonymous module could
have a FUNCTION as the name type, but just ignore those
since we just want to find dependencies.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-397">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-397">&#182;</a>               </div>               <p>Get the name as a string literal, if it is available.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-398">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-398">&#182;</a>               </div>               <p>If there is no module name, the dependencies are for
this file/default module name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-399">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-399">&#182;</a>               </div>               <p>If define was found, no need to dive deeper, unless
the config explicitly wants to dig deeper.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-400">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-400">&#182;</a>               </div>               <p>If this is the main module for this file, combine any
"anonymous" dependencies (could come from a nested require
call) with this module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-401">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-401">&#182;</a>               </div>               <p>Add some private methods to object for use in derived objects.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-402">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-402">&#182;</a>               </div>               <p>If has config is in play, if calls have been converted
by this point to be true/false values. So, if
options has a 'has' value, skip if branches that have
literal false values.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-403">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-403">&#182;</a>               </div>               <p>uglify returns if constructs in an array:
[1]: the condition, ['name', true | false] for the has replaced case.
[2]: the block to process if true
[3]: the block to process if false
For if/else if/else, the else if is in the [3],
so only ever have to deal with this structure.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-404">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-404">&#182;</a>               </div>               <p>If the onMatch indicated parsing should
stop for children of this node, stop, otherwise,
keep going.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-405">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-405">&#182;</a>               </div>               <p>If no deps, still add the standard CommonJS require, exports, module,
in that order, to the deps, but only if specified as function args.
In particular, if exports is used, it is favored over the return
value of the function, so only add it if asked.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-406">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-406">&#182;</a>               </div>               <p>There should only be one argument and it should be a function,
or a named module with function as second arg</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-407">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-407">&#182;</a>               </div>               <p>Check child nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-408">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-408">&#182;</a>               </div>               <p>This is a litle bit inefficient, it ends up with two uglifyjs parser
calls. Can revisit later, but trying to build out larger functional
pieces first.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-409">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-409">&#182;</a>               </div>               <p>This is a litle bit inefficient, it ends up with two uglifyjs parser
calls. Can revisit later, but trying to build out larger functional
pieces first.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-410">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-410">&#182;</a>               </div>               <p>Normalize the input args.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-411">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-411">&#182;</a>               </div>               <p>This is a litle bit inefficient, it ends up with two uglifyjs parser
calls. Can revisit later, but trying to build out larger functional
pieces first.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-412">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-412">&#182;</a>               </div>               <p>A require('') use.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-413">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-413">&#182;</a>               </div>               <p>Hmm, a variable assignment for exports, so does not use cjs exports.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-414">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-414">&#182;</a>               </div>               <p>An exports or module.exports assignment.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-415">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-415">&#182;</a>               </div>               <p>A require('') use.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-416">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-416">&#182;</a>               </div>               <p>Check child nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-417">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-417">&#182;</a>               </div>               <p>Actually look for the define.amd = assignment, since
that is more indicative of RequireJS vs a plain require definition.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-418">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-418">&#182;</a>               </div>               <p>It is a plain require() call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-419">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-419">&#182;</a>               </div>               <p>A define call</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-420">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-420">&#182;</a>               </div>               <p>Only allow define calls that match what is expected
in an AMD call:
* first arg should be string, array, function or object
* second arg optional, or array, function or object.
This helps weed out calls to a non-AMD define, but it is
not completely robust. Someone could create a define
function that still matches this shape, but this is the
best that is possible, and at least allows UglifyJS,
which does create its own internal define in one file,
to be inlined.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-421">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-421">&#182;</a>               </div>               <p>allow define(['dep'], factory) pattern</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-422">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-422">&#182;</a>               </div>               <p>If first arg is a function, could be a commonjs wrapper,
look inside for commonjs dependencies.
Also, if deps is a function look for commonjs deps.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-423">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-423">&#182;</a>               </div>               <p>A require.config() or requirejs.config() call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-424">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-424">&#182;</a>               </div>               <p>A require() or requirejs() config call.
Only want ones that start with an object or an array.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-425">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-425">&#182;</a>               </div>               <p>A define call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-426">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-426">&#182;</a>               </div>               <p>A require.config() or requirejs.config() call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-427">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-427">&#182;</a>               </div>               <p>A require() or requirejs() config call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-428">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-428">&#182;</a>               </div>               <p>It is a plain require() call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-429">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-429">&#182;</a>               </div>               <p>Look for immediately adjacent single line comments since
it could from a multiple line comment made out of single
line comments. Like this comment.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-430">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-430">&#182;</a>               </div>               <p>Adjacent single line comment. Collect it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-431">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-431">&#182;</a>               </div>               <p>No more single line comment blocks. Break out
and continue outer looping.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-432">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-432">&#182;</a>               </div>               <p>Find the define calls and their position in the files.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-433">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-433">&#182;</a>               </div>               <p>Possible match. Do not want something.define calls
though, and only defines follow by a paren</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-434">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-434">&#182;</a>               </div>               <p>a define on a sub-object, not a top level
define() call. If the sub object is the
namespace, then it is ok.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-435">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-435">&#182;</a>               </div>               <p>If the prev2 does not match namespace, then bail.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-436">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-436">&#182;</a>               </div>               <p>Not a define() function call. Bail.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-437">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-437">&#182;</a>               </div>               <p>Figure out if this needs a named define call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-438">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-438">&#182;</a>               </div>               <p>Dependency array</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-439">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-439">&#182;</a>               </div>               <p>Object literal</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-440">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-440">&#182;</a>               </div>               <p>function</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-441">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-441">&#182;</a>               </div>               <p>Named module</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-442">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-442">&#182;</a>               </div>               <p>The value includes the quotes around the string,
so remove them.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-443">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-443">&#182;</a>               </div>               <p>assumed it does not need dependencies injected</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-444">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-444">&#182;</a>               </div>               <p>If next argument is a function it means we need
dependency scanning.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-445">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-445">&#182;</a>               </div>               <p>May be the define(factory); type.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-446">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-446">&#182;</a>               </div>               <p>May be the define(12345); type.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-447">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-447">&#182;</a>               </div>               <p>May be the define(-12345); type.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-448">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-448">&#182;</a>               </div>               <p>Not a match, skip it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-449">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-449">&#182;</a>               </div>               <p>Only do naming and dependency injection if there is one define
call in the file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-450">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-450">&#182;</a>               </div>               <p>Do the modifications "backwards", in other words, start with the
one that is farthest down and work up, so that the ranges in the
defineRanges still apply. So that means deps, id, then namespace.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-451">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-451">&#182;</a>               </div>               <p>Already have a named module, need to insert the
dependencies after the name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-452">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-452">&#182;</a>               </div>               <p>Do namespace last so that ui does not mess upthe parenRange
used above.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-453">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-453">&#182;</a>               </div>               <p>Notify any listener for the found info</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-454">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-454">&#182;</a>               </div>               <p>Avoid any extra memory hanging around</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-455">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-455">&#182;</a>               </div>               <p>Namespace require/define calls</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-456">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-456">&#182;</a>               </div>               <p>Namespace define ternary use:</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-457">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-457">&#182;</a>               </div>               <p>Namespace define jquery use:</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-458">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-458">&#182;</a>               </div>               <p>Namespace has.js define use:</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-459">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-459">&#182;</a>               </div>               <p>Namespace define checks.
Do these ones last, since they are a subset of the more specific
checks above.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-460">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-460">&#182;</a>               </div>               <p>Check for require.js with the require/define definitions</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-461">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-461">&#182;</a>               </div>               <p>Wrap the file contents in a typeof check, and a function
to contain the API globals.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-462">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-462">&#182;</a>               </div>               <p>Finally, if the file wants a special wrapper because it ties
in to the requirejs internals in a way that would not fit
the above matches, do that. Look for /<em>requirejs namespace: true</em>/</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-463">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-463">&#182;</a>               </div>               <p>Remove the pragma.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-464">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-464">&#182;</a>               </div>               <p>Alter the contents.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-465">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-465">&#182;</a>               </div>               <p>Legacy arg defined to help in dojo conversion script. Remove later
when dojo no longer needs conversion:</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-466">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-466">&#182;</a>               </div>               <p>Mix in a specific lifecycle scoped object, to allow targeting
some pragmas/has tests to only when files are saved, or at different
lifecycle events. Do not bother with kwArgs in this section, since
the old dojo kwArgs were for all points in the build lifecycle.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-467">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-467">&#182;</a>               </div>               <p>Replace has references if desired</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-468">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-468">&#182;</a>               </div>               <p>Found a conditional. Get the conditional line.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-469">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-469">&#182;</a>               </div>               <p>Increment startIndex past the line so the next conditional search can be done.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-470">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-470">&#182;</a>               </div>               <p>Break apart the conditional.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-471">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-471">&#182;</a>               </div>               <p>See if the condition is true.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-472">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-472">&#182;</a>               </div>               <p>Find the endpoint marker.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-473">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-473">&#182;</a>               </div>               <p>Find the next line return based on the match position.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-474">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-474">&#182;</a>               </div>               <p>Should we include the segment?</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-475">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-475">&#182;</a>               </div>               <p>Remove the conditional comments, and optionally remove the content inside
the conditional comments.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-476">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-476">&#182;</a>               </div>               <p>Move startIndex to foundIndex, since that is the new position in the file
where we need to look for more conditionals in the next while loop pass.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-477">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-477">&#182;</a>               </div>               <p>If need to find all plugin resources to optimize, do that now,
before namespacing, since the namespacing will change the API
names.
If there is a plugin collector, scan the file for plugin resources.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-478">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-478">&#182;</a>               </div>               <p>Strip amdefine use for node-shared modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-479">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-479">&#182;</a>               </div>               <p>Do namespacing</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-480">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-480">&#182;</a>               </div>               <p>Add .reduce to Rhino so UglifyJS can run in Rhino,
inspired by https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/reduce
but rewritten for brevity, and to be good enough for use by UglifyJS.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-481">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-481">&#182;</a>               </div>               <p>Bind to Closure compiler, but if it is not available, do not sweat it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-482">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-482">&#182;</a>               </div>               <p>Helper for closure compiler, because of weird Java-JavaScript interactions.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-483">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-483">&#182;</a>               </div>               <p>Fake extern</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-484">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-484">&#182;</a>               </div>               <p>Set up source input</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-485">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-485">&#182;</a>               </div>               <p>Set up options</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-486">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-486">&#182;</a>               </div>               <p>options are false by default and jslint wanted an if statement in this for loop</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-487">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-487">&#182;</a>               </div>               <p>Trigger the compiler</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-488">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-488">&#182;</a>               </div>               <p>Make sure we are not ending in whitespace.
Not very confident of the css regexps above that there will not be ending
whitespace.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-489">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-489">&#182;</a>               </div>               <p>Find the last slash in the name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-490">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-490">&#182;</a>               </div>               <p>Make a file path based on the last slash.
If no slash, so must be just a file name. Use empty string then.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-491">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-491">&#182;</a>               </div>               <p>store a list of merged files</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-492">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-492">&#182;</a>               </div>               <p>First make a pass by removing an commented out @import calls.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-493">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-493">&#182;</a>               </div>               <p>Make sure we have a delimited ignore list to make matching faster</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-494">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-494">&#182;</a>               </div>               <p>Only process media type "all" or empty media type rules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-495">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-495">&#182;</a>               </div>               <p>Ignore the file import if it is part of an ignore list.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-496">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-496">&#182;</a>               </div>               <p>Make sure we have a unix path for the rest of the operation.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-497">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-497">&#182;</a>               </div>               <p>if a relative path, then tack on the filePath.
If it is not a relative path, then the readFile below will fail,
and we will just skip that import.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-498">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-498">&#182;</a>               </div>               <p>Skip the file if it has already been included.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-499">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-499">&#182;</a>               </div>               <p>Make sure to flatten any nested imports.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-500">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-500">&#182;</a>               </div>               <p>Make the full import path</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-501">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-501">&#182;</a>               </div>               <p>Make a file path based on the last slash.
If no slash, so must be just a file name. Use empty string then.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-502">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-502">&#182;</a>               </div>               <p>fix url() on relative import (#5)</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-503">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-503">&#182;</a>               </div>               <p>Modify URL paths to match the path represented by this file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-504">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-504">&#182;</a>               </div>               <p>Only do the work for relative URLs. Skip things that start with / or have
a protocol.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-505">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-505">&#182;</a>               </div>               <p>It is a relative URL, tack on the path prefix</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-506">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-506">&#182;</a>               </div>               <p>Collapse .. and .</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-507">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-507">&#182;</a>               </div>               <p>Apply pragmas/namespace renaming</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-508">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-508">&#182;</a>               </div>               <p>Optimize the JS files if asked.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-509">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-509">&#182;</a>               </div>               <p>Pull out any license comments for prepending after optimization.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-510">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-510">&#182;</a>               </div>               <p>Read in the file. Make sure we have a JS string.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-511">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-511">&#182;</a>               </div>               <p>Do not use the flattened CSS if there was one that was skipped.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-512">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-512">&#182;</a>               </div>               <p>Do comment removal.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-513">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-513">&#182;</a>               </div>               <p>Get rid of comments.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-514">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-514">&#182;</a>               </div>               <p>Keep the comment, just increment the startIndex</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-515">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-515">&#182;</a>               </div>               <p>Get rid of newlines.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-516">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-516">&#182;</a>               </div>               <p>Remove multiple empty lines.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-517">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-517">&#182;</a>               </div>               <p>text output to stdout and/or written to build.txt file</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-518">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-518">&#182;</a>               </div>               <p>Using sloppy since this uses eval for some code like plugins,
which may not be strict mode compliant. So if use strict is used
below they will have strict rules applied and may cause an error.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-519">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-519">&#182;</a>               </div>               <p>NOT asking for require as a dependency since the goal is to modify the
global require below</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-520">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-520">&#182;</a>               </div>               <p>This method should be called when the patches to require should take hold.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-521">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-521">&#182;</a>               </div>               <p>Stored cached file contents for reuse in other layers.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-522">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-522">&#182;</a>               </div>               <p>Ignore URLs with protocols, hosts or question marks, means either network
access is needed to fetch it or it is too dynamic. Note that
on Windows, full paths are used for some urls, which include
the drive, like c:/something, so need to test for something other
than just a colon.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-523">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-523">&#182;</a>               </div>               <p>Adjust the URL if it was not transformed to use baseUrl.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-524">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-524">&#182;</a>               </div>               <p>Overrides the new context call to add existing tracking features.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-525">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-525">&#182;</a>               </div>               <p>Only do this for the context used for building.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-526">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-526">&#182;</a>               </div>               <p>Override the shim exports function generator to just
spit out strings that can be used in the stringified
build output.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-527">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-527">&#182;</a>               </div>               <p>Mark the result has being tranformed by the build already.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-528">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-528">&#182;</a>               </div>               <p>Override load so that the file paths can be collected.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-529">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-529">&#182;</a>               </div>               <p>Do not mark the url as fetched if it is
not an empty: URL, used by the optimizer.
In that case we need to be sure to call
load() for each module that is mapped to
empty: so that dependencies are satisfied
correctly.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-530">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-530">&#182;</a>               </div>               <p>Only handle urls that can be inlined, so that means avoiding some
URLs like ones that require network access or may be too dynamic,
like JSONP</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-531">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-531">&#182;</a>               </div>               <p>Adjust the URL if it was not transformed to use baseUrl.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-532">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-532">&#182;</a>               </div>               <p>Save the module name to path  and path to module name mappings.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-533">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-533">&#182;</a>               </div>               <p>plugins need to have their source evaled as-is.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-534">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-534">&#182;</a>               </div>               <p>Load the file contents, process for conditionals, then
evaluate it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-535">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-535">&#182;</a>               </div>               <p>If there is a read filter, run it now.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-536">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-536">&#182;</a>               </div>               <p>Find out if the file contains a require() definition. Need to know
this so we can inject plugins right after it, but before they are needed,
and to make sure this file is first, so that define calls work.
This situation mainly occurs when the build is done on top of the output
of another build, where the first build may include require somewhere in it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-537">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-537">&#182;</a>               </div>               <p>This is a loader plugin, check to see if it has a build extension,
otherwise the plugin will act as the plugin builder too.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-538">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-538">&#182;</a>               </div>               <p>Load the plugin builder for the plugin contents.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-539">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-539">&#182;</a>               </div>               <p>Parse out the require and define calls.
Do this even for plugins in case they have their own
dependencies that may be separate to how the pluginBuilder works.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-540">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-540">&#182;</a>               </div>               <p>Need to close out completion of this module
so that listeners will get notified that it is available.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-541">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-541">&#182;</a>               </div>               <p>Track which module could not complete loading.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-542">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-542">&#182;</a>               </div>               <p>With unsupported URLs still need to call completeLoad to
finish loading.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-543">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-543">&#182;</a>               </div>               <p>Marks module has having a name, and optionally executes the
callback, but only if it meets certain criteria.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-544">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-544">&#182;</a>               </div>               <p>If the module is not waiting to finish being defined,
undef it and start over, to get full execution.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-545">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-545">&#182;</a>               </div>               <p>Clear up the existing context so that the newContext modifications
above will be active.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-546">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-546">&#182;</a>               </div>               <p>Clear up the existing context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-547">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-547">&#182;</a>               </div>               <p>Set up new context, so the layer object can hold onto it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-548">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-548">&#182;</a>               </div>               <p>Return the previous context in case it is needed, like for
the basic config object.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-549">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-549">&#182;</a>               </div>               <p>Override define() to catch modules that just define an object, so that
a dummy define call is not put in the build file for them. They do
not end up getting defined via context.execCb, so we need to catch them
at the define call.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-550">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-550">&#182;</a>               </div>               <p>This function signature does not have to be exact, just match what we
are looking for.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-551">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-551">&#182;</a>               </div>               <p>Add some utilities for plugins</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-552">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-552">&#182;</a>               </div>               <p>Called when execManager runs for a dependency. Used to figure out
what order of execution.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-553">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-553">&#182;</a>               </div>               <p>If build needed a full execution, indicate it
has been done now. But only do it if the context is tracking
that. Only valid for the context used in a build, not for
other contexts being run, like for useLib, plain requirejs
use in node/rhino.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-554">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-554">&#182;</a>               </div>               <p>A plugin.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-555">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-555">&#182;</a>               </div>               <p>For plugins the real path is not knowable, use the name
for both module to file and file to module mappings.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-556">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-556">&#182;</a>               </div>               <p>If the url has not been added to the layer yet, and it
is from an actual file that was loaded, add it now.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-557">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-557">&#182;</a>               </div>               <p>Remember the list of dependencies for this layer.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-558">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-558">&#182;</a>               </div>               <p>Called by output of the parse() function, when a file does not
explicitly call define, probably just require, but the parse()
function normalizes on define() for dependency mapping and file
ordering works correctly.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-559">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-559">&#182;</a>               </div>               <p>Set to false if you do not want this file to log. Useful in environments
like node where you want the work to happen without noise.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-560">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-560">&#182;</a>               </div>               <p>Get list of files to convert.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-561">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-561">&#182;</a>               </div>               <p>Normalize on front slashes and make sure the paths do not end in a slash.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-562">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-562">&#182;</a>               </div>               <p>Cycle through all the JS files and convert them.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-563">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-563">&#182;</a>               </div>               <p>A request just to convert one file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-564">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-564">&#182;</a>               </div>               <p>Handle JS files.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-565">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-565">&#182;</a>               </div>               <p>Just copy the file over.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-566">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-566">&#182;</a>               </div>               <p>Strip out comments.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-567">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-567">&#182;</a>               </div>               <p>First see if the module is not already RequireJS-formatted.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-568">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-568">&#182;</a>               </div>               <p>Construct the wrapper boilerplate.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-569">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-569">&#182;</a>               </div>               <p>By default, all files/directories are copied, unless
they match this regexp, by default just excludes .folders</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-570">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-570">&#182;</a>               </div>               <p>Method used by plugin writeFile calls, defined up here to avoid
jslint warning about "making a function in a loop".</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-571">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-571">&#182;</a>               </div>               <p>Next args can include a build file path as well as other build args.
build file path comes first. If it does not contain an = then it is
a build file path. Otherwise, just all build args.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-572">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-572">&#182;</a>               </div>               <p>Remaining args are options to the build</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-573">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-573">&#182;</a>               </div>               <p>If a module tree that shows what module triggered the error,
print it out.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-574">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-574">&#182;</a>               </div>               <p>Just trim out the first "at" in the stack.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-575">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-575">&#182;</a>               </div>               <p>Can now run the patches to require.js to allow it to be used for
build generation. Do it here instead of at the top of the module
because we want normal require behavior to load the build tool
then want to switch to build mode.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-576">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-576">&#182;</a>               </div>               <p>Remove the previous build dir, in case it contains source transforms,
like the ones done with onBuildRead and onBuildWrite.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-577">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-577">&#182;</a>               </div>               <p>This is not just a one-off file build but a full build profile, with
lots of files to process.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-578">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-578">&#182;</a>               </div>               <p>First copy all the baseUrl content</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-579">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-579">&#182;</a>               </div>               <p>Adjust baseUrl if config.appDir is in play, and set up build output paths.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-580">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-580">&#182;</a>               </div>               <p>All the paths should be inside the appDir, so just adjust
the paths to use the dirBaseUrl</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-581">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-581">&#182;</a>               </div>               <p>If no appDir, then make sure to copy the other paths to this directory.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-582">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-582">&#182;</a>               </div>               <p>Set up build path for each path prefix, but only do so
if the path falls out of the current baseUrl</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-583">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-583">&#182;</a>               </div>               <p>Make sure source path is fully formed with baseUrl,
if it is a relative URL.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-584">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-584">&#182;</a>               </div>               <p>Skip empty: paths</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-585">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-585">&#182;</a>               </div>               <p>If the srcPath is a directory, copy the whole directory.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-586">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-586">&#182;</a>               </div>               <p>Copy files to build area. Copy all files (the /\w/ regexp)</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-587">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-587">&#182;</a>               </div>               <p>Try a .js extension</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-588">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-588">&#182;</a>               </div>               <p>Figure out source file location for each module layer. Do this by seeding require
with source area configuration. This is needed so that later the module layers
can be manually copied over to the source area, since the build may be
require multiple times and the above copyDir call only copies newer files.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-589">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-589">&#182;</a>               </div>               <p>If the module does not exist, and this is not a "new" module layer,
as indicated by a true "create" property on the module, and
it is not a plugin-loaded resource, then throw an error.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-590">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-590">&#182;</a>               </div>               <p>Just set up the _buildPath for the module layer.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-591">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-591">&#182;</a>               </div>               <p>Now set up the config for require to use the build area, and calculate the
build file locations. Pass along any config info too.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-592">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-592">&#182;</a>               </div>               <p>Run CSS optimizations before doing JS module tracing, to allow
things like text loader plugins loading CSS to get the optimized
CSS.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-593">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-593">&#182;</a>               </div>               <p>For each module layer, call require to calculate dependencies.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-594">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-594">&#182;</a>               </div>               <p>Now build up shadow layers for anything that should be excluded.
Do this after tracing dependencies for each module, in case one
of those modules end up being one of the excluded values.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-595">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-595">&#182;</a>               </div>               <p>See if it is already in the list of modules.
If not trace dependencies for it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-596">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-596">&#182;</a>               </div>               <p>module.exclude is an array of module names. For each one,
get the nested dependencies for it via a matching entry
in the module.excludeLayers array.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-597">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-597">&#182;</a>               </div>               <p>module.excludeShallow is an array of module names.
shallow exclusions are just that module itself, and not
its nested dependencies.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-598">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-598">&#182;</a>               </div>               <p>Flatten them and collect the build output for each module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-599">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-599">&#182;</a>               </div>               <p>Save it to a temp file for now, in case there are other layers that
contain optimized content that should not be included in later
layer optimizations. See issue #56.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-600">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-600">&#182;</a>               </div>               <p>Now move the build layers to their final position.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-601">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-601">&#182;</a>               </div>               <p>And finally, if removeCombined is specified, remove
any of the files that were used in this layer.
Be sure not to remove other build layers.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-602">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-602">&#182;</a>               </div>               <p>Do other optimizations.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-603">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-603">&#182;</a>               </div>               <p>Just need to worry about one JS file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-604">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-604">&#182;</a>               </div>               <p>Normal optimizations across modules.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-605">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-605">&#182;</a>               </div>               <p>JS optimizations.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-606">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-606">&#182;</a>               </div>               <p>Generate the module name from the config.dir root.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-607">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-607">&#182;</a>               </div>               <p>Get rid of the extension</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-608">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-608">&#182;</a>               </div>               <p>Convert the file to transport format, but without a name
inserted (by passing null for moduleName) since the files are
standalone, one module per file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-609">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-609">&#182;</a>               </div>               <p>For builds, if wanting cjs translation, do it now, so that
the individual modules can be loaded cross domain via
plain script tags.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-610">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-610">&#182;</a>               </div>               <p>Normalize all the plugin resources.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-611">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-611">&#182;</a>               </div>               <p>Set the value in context.plugins so it
will be evaluated as a full plugin.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-612">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-612">&#182;</a>               </div>               <p>Do not bother if the plugin is not available.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-613">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-613">&#182;</a>               </div>               <p>Rely on the require in the build environment
to be synchronous</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-614">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-614">&#182;</a>               </div>               <p>Now that the plugin is loaded, redo the moduleMap
since the plugin will need to normalize part of the path.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-615">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-615">&#182;</a>               </div>               <p>Only bother with plugin resources that can be handled
processed by the plugin, via support of the writeFile
method.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-616">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-616">&#182;</a>               </div>               <p>Only do the work if the plugin was really loaded.
Using an internal access because the file may
not really be loaded.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-617">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-617">&#182;</a>               </div>               <p>console.log('PLUGIN COLLECTOR: ' + JSON.stringify(pluginCollector, null, "  "));</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-618">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-618">&#182;</a>               </div>               <p>All module layers are done, write out the build.txt file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-619">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-619">&#182;</a>               </div>               <p>If just have one CSS file to optimize, do that here.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-620">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-620">&#182;</a>               </div>               <p>Print out what was built into which layers.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-621">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-621">&#182;</a>               </div>               <p>Used by convertArrayToObject to convert some things from prop.name=value
to a prop: { name: value}</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-622">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-622">&#182;</a>               </div>               <p>Convert to array if necessary</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-623">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-623">&#182;</a>               </div>               <p>Add abspath if necessary. If path starts with a slash or has a colon,
then already is an abolute path.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-624">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-624">&#182;</a>               </div>               <p>Add abspath if necessary, make sure these paths end in
slashes</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-625">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-625">&#182;</a>               </div>               <p>If baseUrl with an appDir, the baseUrl is relative to
the appDir, <em>not</em> the absFilePath. appDir and dir are
made absolute before baseUrl, so this will work.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-626">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-626">&#182;</a>               </div>               <p>The dir output baseUrl is same as regular baseUrl, both
relative to the absFilePath.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-627">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-627">&#182;</a>               </div>               <p>Do not allow URLs for paths resources.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-628">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-628">&#182;</a>               </div>               <p>If the value of the property is a plain object, then
allow a one-level-deep mixing of it.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-629">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-629">&#182;</a>               </div>               <p>Make sure all paths are relative to current directory.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-630">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-630">&#182;</a>               </div>               <p>A build file exists, load it to get more config.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-631">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-631">&#182;</a>               </div>               <p>Find the build file, and make sure it exists, if this is a build
that has a build profile, and not just command line args with an in=path</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-632">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-632">&#182;</a>               </div>               <p>Load build file options.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-633">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-633">&#182;</a>               </div>               <p>Mix in the config now so that items in mainConfigFile can
be resolved relative to them if necessary, like if appDir
is set here, but the baseUrl is in mainConfigFile. Will
re-mix in the same build config later after mainConfigFile
is processed, since build config should take priority.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-634">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-634">&#182;</a>               </div>               <p>Add in some existing config, like appDir, since they can be
used inside the mainConfigFile -- paths and baseUrl are
relative to them.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-635">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-635">&#182;</a>               </div>               <p>If no baseUrl, then use the directory holding the main config.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-636">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-636">&#182;</a>               </div>               <p>Mix in build file config, but only after mainConfig has been mixed in.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-637">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-637">&#182;</a>               </div>               <p>Re-apply the override config values. Command line
args should take precedence over build file values.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-638">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-638">&#182;</a>               </div>               <p>Set final output dir</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-639">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-639">&#182;</a>               </div>               <p>Make sure dirBaseUrl ends in a slash, since it is
concatenated with other strings.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-640">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-640">&#182;</a>               </div>               <p>Check for errors in config</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-641">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-641">&#182;</a>               </div>               <p>Just use the current directory as the baseUrl</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-642">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-642">&#182;</a>               </div>               <p>Just need to build one file, but may be part of a whole appDir/
baseUrl copy, but specified on the command line, so cannot do
the modules array setup. So create a modules section in that
case.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-643">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-643">&#182;</a>               </div>               <p>Just one file to optimize.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-644">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-644">&#182;</a>               </div>               <p>Does not have a build file, so set up some defaults.
Optimizing CSS should not be allowed, unless explicitly
asked for on command line. In that case the only task is
to optimize a CSS file.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-645">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-645">&#182;</a>               </div>               <p>Create a hash lookup for the stubModules config to make lookup
cheaper later.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-646">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-646">&#182;</a>               </div>               <p>Get any wrap text.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-647">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-647">&#182;</a>               </div>               <p>Use default values.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-648">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-648">&#182;</a>               </div>               <p>Do final input verification</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-649">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-649">&#182;</a>               </div>               <p>Set file.fileExclusionRegExp if desired</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-650">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-650">&#182;</a>               </div>               <p>Set file.dirExclusionRegExp if desired, this is the old
name for fileExclusionRegExp before 1.0.2. Support for backwards
compatibility</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-651">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-651">&#182;</a>               </div>               <p>Remove things that may cause problems in the build.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-652">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-652">&#182;</a>               </div>               <p>Reset some state set up in requirePatch.js, and clean up require's
current context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-653">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-653">&#182;</a>               </div>               <p>Grab the reset layer and context after the reset, but keep the
old config to reuse in the new context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-654">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-654">&#182;</a>               </div>               <p>Put back basic config, use a fresh object for it.
WARNING: probably not robust for paths and packages/packagePaths,
since those property's objects can be modified. But for basic
config clone it works out.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-655">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-655">&#182;</a>               </div>               <p>If there are overrides to basic config, set that up now.;</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-656">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-656">&#182;</a>               </div>               <p>Figure out module layer dependencies by calling require to do the work.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-657">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-657">&#182;</a>               </div>               <p>Reset config</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-658">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-658">&#182;</a>               </div>               <p>Check to see if it all loaded. If not, then stop, and give
a message on what is left.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-659">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-659">&#182;</a>               </div>               <p>This error module has the same URL as another
error module, could be misconfiguration.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-660">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-660">&#182;</a>               </div>               <p>Store the original module that had the same URL.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-661">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-661">&#182;</a>               </div>               <p>Look for plugins that did not call load()</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-662">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-662">&#182;</a>               </div>               <p>Use override settings, particularly for pragmas</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-663">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-663">&#182;</a>               </div>               <p>Start build output for the module.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-664">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-664">&#182;</a>               </div>               <p>If there was an existing file with require in it, hoist to the top.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-665">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-665">&#182;</a>               </div>               <p>Write the built module to disk, and build up the build output.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-666">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-666">&#182;</a>               </div>               <p>If the moduleName is for a package main, then update it to the
real main value.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-667">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-667">&#182;</a>               </div>               <p>Figure out if the module is a result of a build plugin, and if so,
then delegate to that plugin.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-668">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-668">&#182;</a>               </div>               <p>Just want to insert a simple module definition instead
of the source module. Useful for plugins that inline
all their resources.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-669">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-669">&#182;</a>               </div>               <p>Slightly different content for plugins, to indicate
that dynamic loading will not work.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-670">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-670">&#182;</a>               </div>               <p>Semicolon is for files that are not well formed when
concatenated with other content.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-671">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-671">&#182;</a>               </div>               <p>Some files may not have declared a require module, and if so,
put in a placeholder call so the require does not try to load them
after the module is processed.
If we have a name, but no defined module, then add in the placeholder.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-672">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-672">&#182;</a>               </div>               <p>Add a require at the end to kick start module execution, if that
was desired. Usually this is only specified when using small shim
loaders like almond.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-673">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-673">&#182;</a>               </div>               <p>Converts an JS array of strings to a string representation.
Not using JSON.stringify() for Rhino's sake.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-674">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-674">&#182;</a>               </div>               <p>Escape any double quotes, backslashes</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-675">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-675">&#182;</a>               </div>               <p>Only mark this module as having a name if not a named module,
or if a named module and the name matches expectations.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-676">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-676">&#182;</a>               </div>               <p>Convert path to be a local one to the baseUrl, useful for
useSourceUrl.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-677">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-677">&#182;</a>               </div>               <p>Use the file name's directory as the baseUrl if available.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-678">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-678">&#182;</a>               </div>               <p>If in Node, and included via a require('requirejs'), just export and
THROW IT ON THE GROUND!</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-679">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-679">&#182;</a>               </div>               <p>Create a method that will run the optimzer given an object
config.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-680">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-680">&#182;</a>               </div>               <p>Create the function that will be called once build modules
have been loaded.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-681">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-681">&#182;</a>               </div>               <p>Make sure config has a log level, and if not,
make it "silent" by default.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-682">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-682">&#182;</a>               </div>               <p>Reset build internals on each run.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-683">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-683">&#182;</a>               </div>               <p>Do the optimizer work.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-684">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-684">&#182;</a>               </div>               <p>Use a separate context than the default context so that the
build can use the default context.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-685">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-685">&#182;</a>               </div>               <p>Just run an app</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-686">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-686">&#182;</a>               </div>               <p>Load the bundled libraries for use in the app.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 